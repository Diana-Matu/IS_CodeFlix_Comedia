---
interface Movie {
  id: number;
  title?: string;
  name?: string;
  poster_path?: string | null;
  vote_average?: number;
  release_date?: string;
  first_air_date?: string;
  overview?: string;
}

const { movie, filter = "comedy-movies", query = "" } = Astro.props;

const title = movie.title ?? movie.name ?? "Untitled";
const date = movie.release_date ?? movie.first_air_date ?? "";
---

<a 
  href={`/movies/${movie.id}?filter=${filter}&query=${query}`}
  class="card"
>
  <div class="card-img">
    <img
      src={
        movie.poster_path
          ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`
          : "https://via.placeholder.com/500x750?text=No+Image"
      }
      alt={title}
      loading="lazy"
    />
  </div>

  <header class="card-info">
    <h2 class="title">{title}</h2>
    <p class="rating">⭐ {movie.vote_average ?? "—"} • {date}</p>
    {movie.overview && <p class="overview">{movie.overview}</p>}
  </header>
</a>

<!-- Ya NO incluimos estilos scoped aquí.
     Ahora están en Movies.astro como estilos globales -->
